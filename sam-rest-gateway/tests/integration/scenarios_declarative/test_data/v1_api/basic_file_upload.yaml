test_case_id: "v1_basic_file_upload"
description: "V1 API test with file upload"
tags: ["rest_gateway", "v1"]

llm_interactions:
  - static_response:
      choices:
        - message:
            role: "assistant"
            content: "I received your file and processed it successfully."
          finish_reason: "stop"

gateway_input:
  endpoint: "/api/v1/invoke"
  method: "POST"
  auth_token: "valid"
  form_data:
    agent_name: "TestAgent"
    prompt: "Please process the uploaded file"
  files:
    - filename: "test_document.txt"
      content: "This is a test document with some content for processing."
      mime_type: "text/plain"

expected_gateway_output:
  - status_code: 200
    response_json_matches:
      status:
        state: "completed"
    response_contains:
      "I received your file and processed it successfully."
