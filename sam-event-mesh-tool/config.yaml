# Solace Agent Mesh: Event Mesh Tool Configuration Example
#
# This file serves as a template demonstrating how to use the Event Mesh Tool plugin.
# You should copy the 'tools' block into your own agent's configuration file.

# --- Start of Example Agent Configuration ---
# This is just a tools section from an agent config file.

      tools:
        # --- Example Event Mesh Tool Configuration ---
        - tool_type: python
          component_module: "sam_event_mesh_tool.tools"
          class_name: "EventMeshTool"
          tool_config:
            # --- Connection & Session Configuration ---
            # This block configures the dedicated event mesh session for this tool.
            event_mesh_config:
              broker_config: *broker_connection # Anchor to shared broker settings
              request_expiry_ms: 10000          # Timeout for requests in milliseconds
              payload_format: "json"            # Format of the outgoing request payload

            # --- Tool Definition for LLM ---
            tool_name: "GetWeather"
            description: "Gets the current weather for a specific city."
            
            # --- Tool Parameters ---
            parameters:
              - name: "city"
                type: "string"
                required: true
                description: "The city to get the weather for."
                payload_path: "location.city" # Maps to payload: {"location": {"city": "..."}}
              - name: "unit"
                type: "string"
                required: false
                default: "celsius"
                payload_path: "unit" # Maps to payload: {"unit": "..."}
              - name: "request_id" # Used in topic, but not in payload
                type: "string"
                required: true
                description: "A unique identifier for this request."
            
            # --- Per-Request Configuration ---
            topic: "acme/weather/request/{{ request_id }}"
            wait_for_response: true

